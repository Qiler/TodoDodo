<div class="cork-board" style="background-color: rgba(255, 0, 0, 0)">
  <div class="container">
    <% notes.forEach(note => { %>
      <div class="sticky" style="z-index: <%= notesCount-- %>" id="sticky-<%= note.nid %>" data-nid="<%= note.nid %>">
        <div class="sticky-container" style="background-color: <%= note.color %>">
          <div class="sticky-footer">
            <form action="/note/editname/<%= note.nid %>" autocomplete="off" method="POST">
              <input class="sticky-title" name="name" type="text" value="<%= note.name %>" autocomplete="false" />
            </form>
          </div>
          <div class="sticky-list">
            <% note.tasks?.forEach(task => { %>
              <div class="task">
                <form class="task-form" action="/task/edit/<%= task.tid %>" data-tid="<%= task.tid %>" autocomplete="off" method="POST">
                  <input class="task-checkbox" type="checkbox" name="checked" id="task-checkbox<%= task.tid %>" <% if( task.checked ) { %> checked <% } %>/>
                  <label class="task-checkbox-label" for="task-checkbox<%= task.tid %>">â–¡</label>
                  <input class="task-description-hidden" name="description" type="hidden" value="<%= task.description %>">
                  <span class="task-description" type="text" role="textbox" contenteditable="true" value="<%= task.description %>" autocomplete="false"><%= task.description %></span>
                </form>
                <form class="task-form-delete" action="/task/delete/<%= task.tid %>" data-tid="<%= task.tid %>" autocomplete="off" method="POST">
                  <button class="task-form-delete-button" type="submit"><i class="mdi mdi-trash-can"></i></button>
                </form>
              </div>
            <% }) %>
          </div>
          <form class="sticky-add-form" action="/task/create/<%= note.nid %>" method="POST">
            <button class="sticky-add" type="submit">+</button>
          </form>
        </div>
        <div class="sticky-menu">
          <div class="sticky-menu-button">
            <div class="sticky-menu-button-bars"></div>
            <div class="sticky-menu-button-bars"></div>
            <div class="sticky-menu-button-bars"></div>
          </div>
          <div class="sticky-menu-content">
            <form class="sticky-menu-content-delete-form" action="/note/delete/<%= note.nid %>" method="POST">
              <button class="sticky-menu-content-delete-button" type="submit">Delete note</button>
            </form>
            <span class="bold">Owner: </span><%= note.owner %><br/>
            <span class="bold">Creation date: </span><script>document.write( new Date("<%= note.creationDate.toISOString() %>").toLocaleString() )</script><br/>
            <span class="bold">Color: </span><input type="color" class="sticky-color" id="sticky-color-<%= note.nid %>" name="color" value="<%= note.color %>">
            <div class="share-with">
              <span class="bold">Shared note with:</span>
              <form class="share-with-form" action="/note/share/<%= note.nid %>" method="POST">
                <button type="submit"><i class="mdi mdi-plus"></i></button>
                <input name="user" type="text">
              </form>
            </div>
            <% note.users?.forEach(user => { %>
            <div class="shared-with">
              <div class="shared-with-avatar"></div>
              <form action="/note/removeaccess/<%= note.nid %>" method="POST">
                <input type="hidden" name="user" value="<%= user.username %>">
                <button class="shared-with-button" type="submit"><i class="mdi mdi-close"></i></button>
              </form>
              <span class="shared-with-username"><%= user.username %></span>
            </div>
            <% }) %>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
</div>